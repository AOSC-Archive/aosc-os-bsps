From e7fbf23858f1abb59daf591bad74407e9f4ad629 Mon Sep 17 00:00:00 2001
From: Icenowy Zheng <icenowy@aosc.io>
Date: Thu, 27 Feb 2020 15:02:24 +0800
Subject: [PATCH 144/148] arm64: allwinner: dts: a64: add 8723cs OOB IRQs and
 keep power

Signed-off-by: Icenowy Zheng <icenowy@aosc.io>
---
 arch/arm64/boot/dts/allwinner/sun50i-a64-pinebook.dts  | 5 +++++
 arch/arm64/boot/dts/allwinner/sun50i-a64-pinephone.dts | 1 +
 arch/arm64/boot/dts/allwinner/sun50i-a64-pinetab.dts   | 5 +++++
 3 files changed, 11 insertions(+)

diff --git a/arch/arm64/boot/dts/allwinner/sun50i-a64-pinebook.dts b/arch/arm64/boot/dts/allwinner/sun50i-a64-pinebook.dts
index 47804859dd2d..0c5a1eda7fca 100644
--- a/arch/arm64/boot/dts/allwinner/sun50i-a64-pinebook.dts
+++ b/arch/arm64/boot/dts/allwinner/sun50i-a64-pinebook.dts
@@ -142,10 +142,15 @@
 	mmc-pwrseq = <&wifi_pwrseq>;
 	bus-width = <4>;
 	non-removable;
+	keep-power-in-suspend;
 	status = "okay";
 
 	rtl8723cs: wifi@1 {
 		reg = <1>;
+		compatible = "realtek,rtl8723cs", "brcm,bcm4329-fmac";
+		interrupt-parent = <&r_pio>;
+		interrupts = <0 3 IRQ_TYPE_LEVEL_LOW>; /* PL3 */
+		interrupt-names = "bcmdhd_wlan_irq";
 	};
 };
 
diff --git a/arch/arm64/boot/dts/allwinner/sun50i-a64-pinephone.dts b/arch/arm64/boot/dts/allwinner/sun50i-a64-pinephone.dts
index a9301f12945d..e7c42855fcba 100644
--- a/arch/arm64/boot/dts/allwinner/sun50i-a64-pinephone.dts
+++ b/arch/arm64/boot/dts/allwinner/sun50i-a64-pinephone.dts
@@ -290,6 +290,7 @@
 	mmc-pwrseq = <&wifi_pwrseq>;
 	bus-width = <4>;
 	non-removable;
+	keep-power-in-suspend;
 	status = "okay";
 
 	rtl8723cs: wifi@1 {
diff --git a/arch/arm64/boot/dts/allwinner/sun50i-a64-pinetab.dts b/arch/arm64/boot/dts/allwinner/sun50i-a64-pinetab.dts
index e8b823875740..ec5f590d6272 100644
--- a/arch/arm64/boot/dts/allwinner/sun50i-a64-pinetab.dts
+++ b/arch/arm64/boot/dts/allwinner/sun50i-a64-pinetab.dts
@@ -237,10 +237,15 @@
 	mmc-pwrseq = <&wifi_pwrseq>;
 	bus-width = <4>;
 	non-removable;
+	keep-power-in-suspend;
 	status = "okay";
 
 	rtl8723cs: wifi@1 {
 		reg = <1>;
+		compatible = "realtek,rtl8723cs", "brcm,bcm4329-fmac";
+		interrupt-parent = <&r_pio>;
+		interrupts = <0 3 IRQ_TYPE_LEVEL_LOW>; /* PL3 */
+		interrupt-names = "bcmdhd_wlan_irq";
 	};
 };
 
-- 
2.24.1

